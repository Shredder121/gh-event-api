language: java
jdk:
  - oraclejdk8
env:
  global: JAVA_TOOL_OPTIONS="-XX:+TieredCompilation -XX:ReservedCodeCacheSize=150m -XX:+UseCodeCacheFlushing -XX:-DontCompileHugeMethods"

#validate javadoc
before_install: mvn -B -q javadoc:javadoc -Dshow=package

install: mvn -B -q install -DskipTests=true
script: mvn -B test

cache:
  directories:
    - $HOME/.m2
